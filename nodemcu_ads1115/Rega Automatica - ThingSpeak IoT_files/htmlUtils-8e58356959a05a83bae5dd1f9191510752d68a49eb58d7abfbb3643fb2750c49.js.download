var xssEvasion={escapeHtml:function(e){var t=document.createElement("div");t.textContent=e;var a=t.innerHTML;return a},strongNotEscaped:function(e,t){var a="",n=/<strong>|<\/strong>/g,i=e.match(n),r=e.split(n),s=function(e){return e};t&&(s=t);var o=0;if(null!==i&&0!==i.length)for(a=xssEvasion.escapeHtml(r[0]),o=0;o<i.length;o+=1)a+=i[o]+xssEvasion.escapeHtml(r[o+1]);else a=xssEvasion.escapeHtml(e);return a},parseUrl:function(e){var t=document.createElement("a");t.display="none",t.href=e||window.location.href,t.href=t.href;var a={protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash};return"https:"!==a.protocol&&"http:"!==a.protocol||0===a.pathname.indexOf("/")||(a.pathname="/"+a.pathname),"https:"===a.protocol&&"443"===a.port&&0!==e.indexOf("https://"+a.hostname+":443")&&(a.port=""),a},sanitizeResponse:function(e){if("string"!=typeof e)return"";var t=/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,a=/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,n=/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,i=e.split(t),r=e.match(t),s="",o="",c=0,l=function(e,t,a,i){var r="",o=xssEvasion.parseUrl(t).protocol;"http:"!==o&&"https:"!==o&&"matlab:"!==o&&(t="#"),t=xssEvasion.escapeHtml(t),i=xssEvasion.strongNotEscaped(i,!0),n.test(a)&&(r=' style="font-weight:bold"'),s='<a href="'+t+'"'+r+">"+i+"</a>"};if(""!==i[0]&&(o=xssEvasion.strongNotEscaped(i[0],!0)),null!==r&&0!==r.length)for(c=0;c<r.length;c+=1)r[c].replace(a,l),""!==i[c+1]&&(i[c+1]=xssEvasion.strongNotEscaped(i[c+1],!0)),o+=s+i[c+1];return o}};